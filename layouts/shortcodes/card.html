{{- $title := .Get "title" -}}
{{- $subtitle := .Get "subtitle" -}}
{{- $image := .Get "image" -}}
{{- $link := .Get "link" -}}
{{- $target := .Get "target" | default "_blank" -}}

<div class="custom-card" style="
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
    background: var(--background);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    margin: 1.5rem 0;
">
    {{- if $image -}}
    <div class="card-image" style="
        height: 200px;
        overflow: hidden;
    ">
        <img src="{{ $image }}" alt="{{ $title }}" style="
            width: 100%;
            height: 100%;
            object-fit: cover;
        ">
    </div>
    {{- end -}}
    
    <div class="card-content" style="padding: 1.5rem;">
        {{- if $title -}}
        <h3 style="
            margin: 0 0 0.5rem 0;
            font-size: 1.3rem;
            color: var(--text);
        ">{{ $title }}</h3>
        {{- end -}}
        
        {{- if $subtitle -}}
        <p style="
            margin: 0 0 1rem 0;
            color: var(--text-secondary);
            font-size: 0.95rem;
        ">{{ $subtitle }}</p>
        {{- end -}}
        
        <div class="card-body" style="
            color: var(--text);
            line-height: 1.6;
        ">
            {{ .Inner | markdownify }}
        </div>
        
        {{- if $link -}}
        <div style="margin-top: 1.5rem;">
            <a href="{{ $link }}" target="{{ $target }}" style="
                display: inline-block;
                padding: 0.5rem 1rem;
                background: var(--primary);
                color: white;
                text-decoration: none;
                border-radius: 6px;
                font-weight: 500;
                transition: background 0.2s ease;
            ">مشاهده بیشتر</a>
        </div>
        {{- end -}}
    </div>
</div>
